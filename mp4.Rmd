---
title: "Mini-Project #4"
author: "Kiara Correa Acosta, Annabel Yim, Syrine Matoussi"
date: "April 24, 2019"
output:
  html_document:
    code_folding: hide
---
## I Just Want to Be Home, but of Course, My Flight Is Delayed
```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(RMySQL)
db <- dbConnect(MySQL(), 
                host = "scidb.smith.edu", 
                user = "mth292", 
                password = "RememberPi", 
                dbname = "airlines")
knitr::opts_chunk$set(connection = db, max.print = 20)

```

Christmas is arguably the most important holiday, as family and friends get together to celebrate the holidays. It's the time people appreciate spending time at home with relatives and friends which often involves traveling home. USA today listed the Christmas season as one of the busiest travel days. But flying home can create a lot of stress especially because of the weather and possible delays. 

Problem statement: For this assignment, we are trying to figure out which airline carriers have the least amount of delays during Christmas Eve using the airline's database. 

In order to confirm whether Christmas Eve is actually one of the busiest days with a lot of delays, we used the flight's data frame to compute the average delay minutes in each day in the month of December 2015. We grouped the data frame by the days in December and computed the average delay times for each day using the AVG() function. In fact, data shows that Christmas Eve had 6th most delays in December 2015 with an average of 21.5332 minutes. 


```{sql connection=db}
SELECT  af.month, af.day, AVG(af.dep_delay) as ave_delay_minutes
FROM flights af
WHERE af.year =2015 and month=12
GROUP BY af.day
ORDER BY ave_delay_minutes desc
LIMIT 0, 20
```

In the article from the USA today: “What Is the Busiest Travel Day?” has stated that New Year’s and Christmas is the busiest time of the year to travel by airplane. Although this time period is the busiest our data has shown us that the day with the most delays is December 29th with an average of 30.9502 mins of delays. Assuming that airlines tend to get the most delays when a large number of people are traveling we would have expected Christmas and New Years to be the busiest. The real question to ask is who is traveling on these days? Everyone would rather have the chance to already be with their families on these special days and not on an airplane.  According to our data, these holidays are at the bottom of our top 20 data table. Both days average around 8 mins in delays. December 29th is a middle point of the week between these two holidays which makes sense why it can be seen as the busiest of days.  

In order to find out which airline carriers have the least delay times on Christmas Eve, we joined the carriers and flights tables, and grouped by the airline carrie. Then took the average of the delay times using the AVG() function. Also, we indexed WHERE with the join function to specify the time of 2015 December 24th. And by using ORDER BY and LIMIT we found the top ten airline carriers that had the least average delay minutes. The top ten airline carriers to prevent from facing flight delay during Christmas Eve are Alaska Airlines, Envoy Air, Hawaiian Airlines, United Airlines, and others as shown in the data table below. 

```{sql connection=db}
SELECT ac.carrier, ac.name, avg(af.dep_delay) as average_delay_min, af.year, af.month, af.day
FROM carriers ac
JOIN flights af
on ac.carrier = af.carrier
WHERE af.year= 2015 and af.month=12 and af.day =24
GROUP BY ac.carrier
ORDER BY average_delay_min
LIMIT 0,10
```


Forbes in 2018 published an article on the ranking of airlines in the United States. They pointed out how The Points Guy, a brand that specializes in air travel ranked Alaska Airlines as the best airline in the United States. And also from our data, we found out that Alaska Airlines had the least amount of average delays. So why is Alaska Airlines so good? Many reasons. Alaska Airlines does not excel in one area but rather it has the airline scored in the top three across half of our criteria — airfare, on-time arrivals, baggage handling, customer satisfaction, and its best-in-the-industry frequent flyer program. In contrast, Spirit Airlines ranked last out of the 10 carriers in the delay table. In an article by MONEY, Prachi Bhardwaj explains the reason for flight delays are usually within the airline’s control: maintenance problems, aircraft cleaning, fueling. Spirit Airlines also ranked last also for customer satisfaction, cabin comfort and frequent flyer program. Although this is expected considering the low Spirit Airline Airfares, customers still express their frustration with the carrier. Comedian Brent Pella expresses his frustration with Spirit Airlines in a video about his experience flying with Spirit Airlines.

<iframe width="560" height="315" src="https://www.youtube.com/embed/YvfYK0EEhK4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


While Alaska Airlines is scored in the top among other airlines, the relative prices tend to be more expensive. While it may be stressful to have a bad experience coming home during the holidays, using low rated airlines such as the Spirit Airlines may not be so bad at the end as you are seeing family. Having delays may not be so bad. It might even save you from missing your flight if you arrived late for some reason. So it is really important to plan ahead according to what carrier you’re flying with. It’s true that it’s hard to predict flight delays, but if you’re flying with Alaska Airlines, chances are that the flight will be on time. It is really up to your preferences, but the delays should not take away from the fact that after a long day at the airport you will have the opportunity to spend time with family on these important holidays.


```{r, message = FALSE, warning = FALSE, echo = TRUE}
wordcountaddin:::text_stats()
```


^[[Link to the GitHub Repository]https://github.com/annabelyim/sds192-mp4.git

###References:

[Link to USA today Article]https://traveltips.usatoday.com/busiest-travel-day-108182.html

[Link to Forbes Article]https://www.forbes.com/sites/laurabegleybloom/2018/03/06/ranked-the-best-and-worst-airlines-in-america/#1ff18bf7e953

[Link to Money Article]http://money.com/money/5455032/top-airlines-minimum-delays-holidays/
